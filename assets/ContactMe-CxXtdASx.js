import{r as e,j as t,C as s,o as a,B as r,G as i,p as n,e as o,S as l,q as c}from"./mui-60u0cGox.js";import{D as m}from"./index-BtpkS6Ul.js";import{F as d}from"./FadeInSection-DjnXNQpW.js";import"./vendor-Dah7rJhZ.js";import"./animation-CEied_YB.js";class h{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const u={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},g=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},p=async(e,t,s={})=>{const a=await fetch(u.origin+e,{method:"POST",headers:s,body:t}),r=await a.text(),i=new h(a.status,r);if(a.ok)return i;throw i},b=(e,t,s)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||"string"!=typeof s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},f=e=>e.webdriver||!e.languages||0===e.languages.length,w=()=>new h(451,"Unavailable For Headless Browser"),x=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const s=(a=t,r=e.watchVariable,a instanceof FormData?a.get(r):a[r]);var a,r;return"string"==typeof s&&e.list.includes(s)},j=()=>new h(403,"Forbidden"),y=async(e,t,s)=>{if(!t.throttle||!s)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const a=t.id||e,r=await(async(e,t,s)=>{const a=Number(await s.get(e)||0);return t-Date.now()+a})(a,t.throttle,s);return r>0||(await s.set(a,Date.now().toString()),!1)},v=()=>new h(429,"Too Many Requests"),T=async(e,t,s,a)=>{const r=g(a),i=r.publicKey||u.publicKey,n=r.blockHeadless||u.blockHeadless,o=r.storageProvider||u.storageProvider,l={...u.blockList,...r.blockList},c={...u.limitRate,...r.limitRate};if(n&&f(navigator))return Promise.reject(w());if(b(i,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(s),s&&x(l,s))return Promise.reject(j());if(await y(location.pathname,c,o))return Promise.reject(v());const m={lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s};return p("/api/v1.0/email/send",JSON.stringify(m),{"Content-type":"application/json"})},S={FORM_SUBMIT:"Your message has been transmitted to the Jedi Council successfully! May the Force be with you."},k={NETWORK:"A disturbance in the Force has occurred. Please try transmitting your message again.",FORM_VALIDATION:"The hologram transmission requires all fields to be completed, young Padawan."},P=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),I=e=>e.trim().replace(/[<>]/g,""),N=()=>{const[h,u]=e.useState(""),[g,p]=e.useState(""),[b,f]=e.useState(""),[w,x]=e.useState(!1),[j,y]=e.useState(!1),[v,N]=e.useState(!1),[F,D]=e.useState(!1),_=()=>{y(!1),D(!1),N(!1)},C=e=>{switch(e.target.id){case"#name":u(e.target.value);break;case"#email":p(e.target.value);break;case"#message":f(e.target.value)}};return t.jsx(t.Fragment,{children:t.jsxs(d,{delay:400,children:[" ",t.jsxs(s,{id:"contact",className:"section contact-section",children:[t.jsx(a,{}),t.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"left"},children:[t.jsx("span",{className:"sub-heading",children:"Transmit a Hologram "}),w?t.jsx(m,{size:80,message:"Transmitting to the Jedi Council..."}):t.jsxs(r,{sx:{mt:3},children:[t.jsxs(i,{container:!0,spacing:2,children:["                                ",t.jsx(i,{item:!0,xs:12,children:t.jsx(n,{className:"text-field",id:"#name",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,value:h,onChange:C,inputProps:{maxLength:100},helperText:`${h.length}/100 characters`})}),t.jsx(i,{item:!0,xs:12,children:t.jsx(n,{className:"text-field",id:"#email",required:!0,fullWidth:!0,label:"Email Address",type:"email",value:g,onChange:C,inputProps:{maxLength:100},error:g.length>0&&!P(g),helperText:g.length>0&&!P(g)?"Please enter a valid email address":`${g.length}/100 characters`})}),t.jsx(i,{item:!0,xs:12,children:t.jsx(n,{className:"text-field",id:"#message",required:!0,multiline:!0,fullWidth:!0,rows:8,label:"Message",value:b,onChange:C,inputProps:{maxLength:1e3},helperText:`${b.length}/1000 characters`})})]}),t.jsx(o,{className:"contact-button",fullWidth:!0,variant:"outlined",sx:{mt:3,mb:2},onClick:async()=>{x(!0);try{const e=await(async(e,t,s)=>{if(!e.trim()||!t.trim()||!s.trim())return"warning";if(!P(t))return"warning";if(e.length>100||s.length>1e3)return"warning";const a={from_name:I(e),message:I(s),email:I(t)};try{return await T("service_51pblxq","template_uu34azu",a,"user_AKWYNeLidVUnlrq6JImtl"),"success"}catch(r){return console.error("Failed to send message:",r),"error"}})(h,g,b);switch(e){case"success":y(!0),u(""),p(""),f("");break;case"error":D(!0);break;case"warning":N(!0)}}catch(e){console.error("Error sending message:",e),D(!0)}finally{x(!1)}},disabled:w,children:w?"Transmitting...":"Transmit to the Jedi Council"})]}),t.jsx(l,{id:"success-snackbar",open:j,autoHideDuration:4e3,onClose:_,children:t.jsx(c,{severity:"success",children:S.FORM_SUBMIT})}),t.jsx(l,{id:"error-snackbar",open:F,autoHideDuration:4e3,onClose:_,children:t.jsx(c,{severity:"error",children:k.NETWORK})}),t.jsx(l,{id:"warning-snackbar",open:v,autoHideDuration:4e3,onClose:_,children:t.jsx(c,{severity:"warning",children:k.FORM_VALIDATION})})]})]})]})})};export{N as default};
